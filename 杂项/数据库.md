
  # 数据库

      version:  1
      created_at:  2016-03-10
      updated_at:  None

      created at 2016-03-10 12:07:59 


      None


      <p>
      	数据库一般包含几个部分： 基本的数据库连接和查询， 查询生成器，活动纪录。
	基本的数据库查询和连接：
		连接数据库，对数据库进行基本CRUD操作。
		Zend在这点远胜于Yii。 

	查询生成器：
		Zend1提供了一个  Zend_Db_Select 类来构造查询语句。 同样远远胜过Yii的query对象。
		Zend_Db_Select是一个单纯的查询生成类，仅仅生成查询语句，不进行实际操作，并且可以直接输出查看sql。
		简直完美。

	活动纪录：
		这是个略热门的概念，它的核心是让数据库表的操作，如果操作对象， 创建对象则增加到数据库，修改对象则更新到数据库。
		这种概念只适合简单关系的表，一条纪录对应一个类。 
		这个概念是很有必要的。
		Zend_Db_Table 就是这个概念， 只是功能稍弱。 
		但是实际应用中， 这个概念有些模糊。
		比如很常见的逻辑：
			if username exists in db:
				update user
			else
				insert user

		这个就无法和单条记录的概念对应。
		所以通常需要两个概念，一个是 对应某表的一个对象，一个是对应某表中单条记录的对象，各司其职。
		怎么起名倒是难题。

		另外为了增加表字段的验证，过滤等，很可能需要预先的表结构描述数据，这又让它依赖外部的数据了。

		还有一个相关的概念是 DQL，对应传统的SQL。 目的是提供一种创建数据库查询语句，通过 对象来创建，而不是直接的SQL。
		然而我觉得理想很好，现实很残酷，真是极端难用，得不偿失。并且因为不是直接的SQL，一旦出错，检查错误在哪都不容易。
		SQL虽然琐碎了点， 并且容易硬编码，胜在简单明了，一旦出错，查看一下SQL语句，很轻松便能找到问题。
      </p>

  