## tpshop研究

#### 1. 商品sku是怎么实现的

大约是商品表和规格表关联， 价格在规格表中
相关表: tp_goods, tp_spec,tp_spec_goods_price


#### 用户表的设计

tp_users:
    包含基本信息
    第三方的信息
    token(授权信息）


tp_user_address: 和tp_users关联，  is_pickup不知道什么作用
tp_user_collection 
tp_user_level (用户等级表）
    不同等级对应不同购买数额和折扣?

tp_user_message




##### 
tp_user.token 如何生成的?


####  1. 用户如何登录的？ 
   通过用户名和密码去验证， 密码是 C("AUTH_CODE")+密码的 md5值来验证

    


#### 2. 商品如何显示的？ 分类时
   商品分类页：

1. 传入分类id
2. 似乎是获取分类的商品
3. 逐个过滤掉
4. 构造sql查询， 通过 in (goods_ids) 的方式来分页




#### 3. 商品详情如何显示的？  尤其是sku
商品有本店价
同时有对应规格的价格

初始化时候显示本店价，然后初始化显示规格价格
如果规格改变，同时改变规格价格



aa
  11
bb 
  55  66
cc
  120 110 


1. 获取此商品的所有规格
2. 构造数据格式，一个规格多个规格价格值
3. 创建前端界面
4. 前端界面中选择对应规格，则生成规格值 ， 
  规格1_规格2_规格3 ，规格值以从小大到排序
5. 一个规格值对应具体的价格，更新前台价格





#### 4. 如何支付的？ 

I()...是什么意思 ?
  input(...) 意思，获取get,post等输入值

C(...) 是什么意思 ?
  config(..) 的意思 ,获取配置值




##### 商品搜索页面

  逻辑差不多，也是先查找出商品，然后在用sql implode 来分页

##### 品牌如何实现的


#### 购物车如何实现
  购物车调用 ajaxCartList 获取购物车商品列表
  ajaxCartList查询 tp_cart表来获取数据


### 
  cart2 什么意思
    价格怎么计算出来
      
