[回到首页](/)

# 第五注释

    version:  1  
    created at: 2016-01-22 15:06:19  

注释一直是个问题，但也不是问题。
书上一直说要写注释，怎么写？似乎谁也没仔细解释过。
仅以个人经验而言，注释并不是很重要。

首先的问题是，为什么要写注释？
也许有人会说为了解释代码。 
问题就在这里，解释代码的什么？向谁解释？
解释的对象与内容未确立，注释根本无法写。

假设一个函数，要写注释。 
注释写给谁？ 当然不是外行，否则要从头解释什么是编程。
也不应该是用户，给用户看应该通过文档，而不是注释。

一个好的目标是给未来可能使用，修改这个函数的程序员看。
目标确立，所以注释才可以编写，并且能轻松确立要写些什么了。
首要原则，注释应当尽量简单。
第一是因为如果注释很占内容，那么主要代码将会淹没在注释中造成困扰。
第二是注释如同文档，很容易落后于代码，同步注释也会带来巨大成本。

基于这个原则，能利用其它方式阐述信息的时候，就不应该使用注释。
那些方式可以阐述信息？ 函数名，变量名。
什么是必须注释的？ 函数返回值， 特殊处理，临时处理等等无法通过其它方式获得的信息并且对于使用与修改想当重要的信息。

当一个函数的参数是  $data=array() 
却存在一个注释：   @param data Array
这简直是一个笑话。

比如一个例子：
144     /**
          145      * Wraps a callable to make sure that its returned value represents a va    lid
          146      * connection type.
          147      *
          148      * @param mixed $callable
          149      *
          150      * @return \Closure
          151      */
152     protected function getConnectionInitializerWrapper($callable)
153     {


  148行的注释有什么意义呢？ $callable本身就已经表达了它的含义。

    许多所谓的标准代码，都采用这种毫无意义的方法，不知道他们自己知不知道在干什么。
    这也是常见的现象，许多人不知道做什么，于是照着权威人士去做，有错误大家一起出错。

    代码，注释，文档。都是向某特定目标做解释的东西，解释是它们的核心意义。不能解释的都应该考虑废弃。

    总体而言，注释适合简短的解释，解释能力有限。
